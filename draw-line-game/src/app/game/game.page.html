<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ levelName }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="restart()">
        <ion-icon name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="canvas-container">
    <canvas #gameCanvas></canvas>
  </div>

  <!-- Victory Animation -->
  <div class="victory-animation" *ngIf="showVictoryAnimation">
    <div class="victory-text">🎉</div>
  </div>

  <!-- Level Complete Overlay -->
  <div class="overlay" *ngIf="levelComplete" (click)="closeOverlay()">
    <div class="overlay-content" (click)="$event.stopPropagation()">
      <div class="victory-icon">✓</div>
      <h2>关卡完成！</h2>
      <p class="victory-message">恭喜你完成了这一关！</p>
      <div class="overlay-buttons">
        <ion-button (click)="nextLevel()" *ngIf="hasNextLevel" class="button-primary">
          <ion-icon name="arrow-forward" slot="start"></ion-icon>
          下一关
        </ion-button>
        <ion-button (click)="goHome()" class="button-secondary">
          <ion-icon name="home" slot="start"></ion-icon>
          返回
        </ion-button>
      </div>
    </div>
  </div>
</ion-content>
